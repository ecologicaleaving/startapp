# Story 2.1: Assignment Card Component System

## Status
Draft

## Story
**As a tournament referee,**  
**I need specialized Assignment Card components that display my assignments with clear visual hierarchy,**  
**So that I can quickly identify my current, upcoming, and completed assignments at a glance.**

## Acceptance Criteria
1. Assignment Card component implemented with referee-specific information display:
   - **Match Information:** Court number, teams, match time prominently displayed
   - **Assignment Details:** Referee position (1st, 2nd, Line), assignment status
   - **Visual Status Coding:** Current (high-visibility orange), upcoming (blue), completed (green)
   - **Touch Interaction:** Large touch targets for assignment actions (44px minimum)
2. Assignment Card variants created for different assignment states:
   - **Current Assignment Card:** Maximum visibility with countdown timer
   - **Upcoming Assignment Card:** Clear preparation information
   - **Completed Assignment Card:** Result summary with minimal visual weight
3. Card component responsive design for mobile-first referee workflow
4. Assignment Card integration with real-time assignment updates
5. Storybook documentation with all Assignment Card variants and usage examples

## Tasks / Subtasks
- [ ] **Task 1: Assignment Card Base Component Architecture** (AC: 1, 3)
  - [ ] Create Assignment Card base component with variant prop system
  - [ ] Implement design token integration from Epic 1 foundation
  - [ ] Build responsive card layout system for mobile optimization
  - [ ] Create card interaction system with touch target compliance
  
- [ ] **Task 2: Assignment Information Display System** (AC: 1)
  - [ ] Design match information hierarchy (court, teams, time)
  - [ ] Implement assignment detail display (position, status)
  - [ ] Create information density optimization for quick scanning
  - [ ] Build typography integration using Epic 1 hierarchical system
  
- [ ] **Task 3: Status-Driven Visual Coding** (AC: 1, 2)
  - [ ] Integrate Epic 1 status color coding system
  - [ ] Implement current assignment maximum visibility styling
  - [ ] Create upcoming assignment clear preparation styling
  - [ ] Design completed assignment minimal visual weight styling
  
- [ ] **Task 4: Assignment Card Variants** (AC: 2)
  - [ ] Build Current Assignment Card with countdown timer
  - [ ] Create Upcoming Assignment Card with preparation info
  - [ ] Design Completed Assignment Card with result summary
  - [ ] Implement smooth transitions between assignment states
  
- [ ] **Task 5: Real-Time Integration & Documentation** (AC: 4, 5)
  - [ ] Create real-time assignment update integration
  - [ ] Build Storybook documentation with all variants
  - [ ] Create component usage examples and guidelines
  - [ ] Implement comprehensive testing for all card variants

## Dev Notes

### Previous Story Insights
From Story 1.5 (Outdoor-Optimized Iconography) completion notes:
- **Icon System Integration**: Comprehensive icon library established - leverage NavigationIcons, StatusIcons, DataIcons for assignment cards
- **Touch Target Compliance**: 44px minimum touch targets successfully implemented - apply same standards to assignment cards
- **Component Architecture Patterns**: React.memo optimization patterns established - follow same component architecture
- **WCAG AAA Compliance**: 7:1 contrast ratios maintained across all implementations - apply to assignment cards
- **Design Token Integration**: Seamless integration with Epic 1 design token system established

From Story 1.4 (Status-Driven Color Coding System) completion notes:
- **Status Color System**: Comprehensive status color coding implemented - extend to assignment card variants
- **Visual State Management**: Status animation system established - integrate into assignment card state transitions
- **Component Integration Patterns**: Successful integration with TournamentList/TournamentDetail - follow same patterns

From Story 1.3 (Hierarchical Typography System) completion notes:
- **Typography Hierarchy**: Hero (40px), H1 (32px), H2 (24px) system implemented - use for assignment card information hierarchy
- **Information Scanning Optimization**: Quick-scan patterns validated - apply to assignment card design

### Technical Context & Stack
**React Native/Expo Application Setup**:
- React Native 0.79.5 with React 19.0.0 [Source: CLAUDE.md]
- Expo SDK ~53.0.20 with expo-router for navigation [Source: CLAUDE.md]
- TypeScript configuration already in place [Source: CLAUDE.md]
- Testing with Jest ~29.7.0 and @testing-library/react-native [Source: previous story testing]

**Epic 1 Foundation Available**:
- Design token system established in `theme/tokens.ts` [Source: Story 1.1-1.5 implementations]
- Status color coding system implemented [Source: Story 1.4 implementation]
- Typography hierarchy system available [Source: Story 1.3 implementation]
- Icon system comprehensive library [Source: Story 1.5 implementation]
- Component performance patterns established (React.memo, StyleSheet.create) [Source: previous implementations]

### Assignment Card Component Requirements
**Source: [docs/epics/epic-002-referee-component-library.md#user-story-1]**

**Component Architecture Requirements**:
- **Assignment Card Base Component**: Variant prop system for different assignment states
- **Visual Status Coding**: Current (high-visibility orange), upcoming (blue), completed (green)
- **Touch Target Compliance**: 44px minimum for all interactive elements
- **Mobile-First Design**: Optimized for referee mobile workflow patterns

**Information Display Requirements**:
- **Match Information**: Court number, teams, match time prominently displayed
- **Assignment Details**: Referee position (1st, 2nd, Line), assignment status
- **Information Hierarchy**: Quick-scanning optimization for referee workflow
- **Real-Time Updates**: Integration with assignment status changes

### Component Design System Integration
**Source: [docs/referee-frontend-spec/component-library-design-system.md]**

**Assignment Card Specifications**:
- **Current Assignment (Hero)**: Extra large, high prominence display
- **Upcoming Assignment**: Standard size, clear hierarchy
- **Completed Assignment**: Muted styling, reference only
- **Status States**: Active, Upcoming, Completed, Cancelled

**Design System Foundation**:
- **Outdoor Sports Visibility**: Built for sunlight readability
- **Status-First Design**: Every component communicates current state clearly
- **Touch-Optimized**: Large hit targets for outdoor conditions

### Existing Component Integration
**Source: [docs/component-integration-guide.md]**

**Integration Patterns Established**:
- **TournamentList Component**: Pattern for component integration with service layer
- **TournamentDetail Component**: Pattern for data fetching and display
- **Zero-Impact Enhancement**: Maintain backward compatibility while adding new functionality

**Component Architecture Standards**:
- React.memo patterns for performance optimization [Source: previous story implementations]
- StyleSheet.create() for styling performance [Source: Epic 1 implementation patterns]
- Design token integration for consistent theming [Source: Epic 1 foundation]

### File Locations & Project Structure
**Source: [CLAUDE.md and Epic 1 implementation patterns]**

**Files to Create**:
- Assignment Card components: `components/Assignment/AssignmentCard.tsx`, `AssignmentCardVariants.tsx`
- Assignment utilities: `utils/assignments.ts` - Assignment data processing and formatting functions
- Assignment tests: `__tests__/components/Assignment/` - Comprehensive assignment card testing
- Storybook stories: `stories/Assignment/` - Assignment card component documentation

**Files to Modify**:
- Component exports: `components/index.ts` - Add assignment card exports
- Type definitions: `types/assignments.ts` - Assignment-specific TypeScript interfaces
- Design tokens: `theme/tokens.ts` - Extend if needed for assignment-specific tokens

### Technical Constraints & Standards
**Source: [CLAUDE.md and React Native best practices]**

**React Native Assignment Component Approach**:
- Leverage existing design token system from Epic 1
- Follow component memoization patterns established
- Integration with real-time update system
- Touch target compliance for outdoor conditions

**Performance Considerations**:
- Assignment card list virtualization for large assignment sets
- Efficient state management for real-time updates
- Memory optimization for assignment data caching
- Touch interaction optimization for outdoor conditions

**Accessibility Requirements**:
- Maintain 7:1 contrast ratios established in Epic 1
- Proper semantic labeling for assignment information
- Touch target compliance (44px minimum) throughout
- Screen reader support for assignment details

## Testing

### Testing Standards
**Test Framework**: Jest ~29.7.0 with @testing-library/react-native ~13.2.2 [Source: Epic 1 testing setup]

**Test File Locations**:
- Assignment Card component tests: `__tests__/components/Assignment/`
- Assignment utility tests: `__tests__/utils/assignments.test.ts`
- Integration tests: `__tests__/integration/` (assignment card integration with existing components)

**Specific Testing Requirements for this Story**:
- Assignment Card variant rendering tests
- Touch target size validation testing
- Status color coding validation
- Real-time update integration testing
- Assignment information display accuracy testing

**Test Coverage Requirements**:
- Assignment Card components: 95% coverage
- Assignment utility functions: 100% coverage
- Integration with existing components: 85% coverage
- Visual regression tests for all assignment card variants

**Integration with Existing Testing**:
- **EXTEND** existing component testing patterns from Epic 1
- **INTEGRATE** with Epic 1 visual testing standards
- **MAINTAIN** existing test coverage standards

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-12 | 1.0 | Initial story creation for Epic 002 User Story 1 | Claude (Dev) |

## Dev Agent Record

### Agent Model Used
TBD - Will be populated during development

### Debug Log References  
TBD - Will be populated during development

### Completion Notes List
TBD - Will be populated during development